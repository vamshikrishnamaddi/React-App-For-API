{"version":3,"sources":["TransitionGroup.js"],"names":["exports","__esModule","default","_propTypes","_interopRequireDefault","require","_react","_TransitionGroupContext","_ChildMapping","obj","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","values","map","k","defaultProps","component","childFactory","child","TransitionGroup","_React$Component","props","context","_this","handleExited","bind","state","contextValue","isMounting","firstRender","_proto","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","nextProps","_ref","prevChildMapping","children","getInitialChildMapping","getNextChildMapping","node","currentChildMapping","getChildMapping","onExited","render","_this$props","Component","appear","enter","exit","createElement","Provider","value","propTypes","any","bool","func","_default","module"],"mappings":"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","file":"TransitionGroup.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _TransitionGroupContext = _interopRequireDefault(require(\"./TransitionGroupContext\"));\n\nvar _ChildMapping = require(\"./utils/ChildMapping\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n};\n/**\n * The `<TransitionGroup>` component manages a set of transition components\n * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n * components, `<TransitionGroup>` is a state machine for managing the mounting\n * and unmounting of components over time.\n *\n * Consider the example below. As items are removed or added to the TodoList the\n * `in` prop is toggled automatically by the `<TransitionGroup>`.\n *\n * Note that `<TransitionGroup>`  does not define any animation behavior!\n * Exactly _how_ a list item animates is up to the individual transition\n * component. This means you can mix and match animations across different list\n * items.\n */\n\nvar TransitionGroup = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_this)); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? (0, _ChildMapping.getInitialChildMapping)(nextProps, handleExited) : (0, _ChildMapping.getNextChildMapping)(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  } // node is `undefined` when user provided `nodeRef` prop\n  ;\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = (0, _ChildMapping.getChildMapping)(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return /*#__PURE__*/_react.default.createElement(_TransitionGroupContext.default.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_TransitionGroupContext.default.Provider, {\n      value: contextValue\n    }, /*#__PURE__*/_react.default.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(_react.default.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: _propTypes.default.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: _propTypes.default.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: _propTypes.default.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: _propTypes.default.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: _propTypes.default.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: _propTypes.default.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nvar _default = TransitionGroup;\nexports.default = _default;\nmodule.exports = exports.default;"]}