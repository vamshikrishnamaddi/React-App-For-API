{"version":3,"sources":["Collection.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","Collection","_reactVirtual","require","_react","_interopRequireWildcard","_useCollection","_utils","_excluded","_excluded2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","isArray","len","arr2","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","VirtualDynamicCollection","_ref","_ref$as","as","Container","children","_ref$estimateSize","estimateSize","_estimateSize","exclude","infiniteScroll","isLoading","ItemContainer","itemContainer","items","onBottom","parentKey","parentRef","passthroughKey","publicApi","otherProps","previousLengthRef","useRef","virtualizer","useVirtualizer","count","getScrollElement","current","callbackCaptureRef","useEffect","scrollToIndex","smoothScroll","createElement","style","height","getTotalSize","position","width","getVirtualItems","map","virtual","_item$id","item","index","publicItem","excludeProps","child","concat","getKey","id","props","ref","node","measureElement","left","top","transform","start","keyValue","cloneElement","DynamicCollection","_ref2","filterKey","state","useCollection","Fragment","collection","_ref3","_ref3$passthroughKey","_ref3$virtualize","virtualize","Function","content"],"mappings":"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","file":"Collection.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Collection = Collection;\n\nvar _reactVirtual = require(\"@tanstack/react-virtual\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useCollection = require(\"./useCollection\");\n\nvar _utils = require(\"./utils\");\n\nvar _excluded = [\"as\", \"children\", \"estimateSize\", \"exclude\", \"infiniteScroll\", \"isLoading\", \"itemContainer\", \"items\", \"onBottom\", \"parentKey\", \"parentRef\", \"passthroughKey\", \"publicApi\"],\n    _excluded2 = [\"as\", \"children\", \"collection\", \"estimateSize\", \"exclude\", \"filter\", \"filterKey\", \"infiniteScroll\", \"isLoading\", \"itemContainer\", \"items\", \"onBottom\", \"parentKey\", \"parentRef\", \"passthroughKey\", \"publicApi\", \"virtualize\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction VirtualDynamicCollection(_ref) {\n  var _ref$as = _ref.as,\n      Container = _ref$as === void 0 ? 'div' : _ref$as,\n      children = _ref.children,\n      _ref$estimateSize = _ref.estimateSize,\n      _estimateSize = _ref$estimateSize === void 0 ? 37 : _ref$estimateSize,\n      exclude = _ref.exclude,\n      infiniteScroll = _ref.infiniteScroll,\n      isLoading = _ref.isLoading,\n      ItemContainer = _ref.itemContainer,\n      items = _ref.items,\n      onBottom = _ref.onBottom,\n      parentKey = _ref.parentKey,\n      parentRef = _ref.parentRef,\n      passthroughKey = _ref.passthroughKey,\n      publicApi = _ref.publicApi,\n      otherProps = _objectWithoutProperties(_ref, _excluded);\n\n  var previousLengthRef = (0, _react.useRef)(items.length);\n  var virtualizer = (0, _reactVirtual.useVirtualizer)({\n    count: items.length,\n    estimateSize: function estimateSize() {\n      return _estimateSize;\n    },\n    getScrollElement: function getScrollElement() {\n      return parentRef.current;\n    }\n  });\n  var callbackCaptureRef = (0, _react.useRef)(false);\n  (0, _react.useEffect)(function () {\n    if (items.length < previousLengthRef.current) {\n      virtualizer.scrollToIndex(0, {\n        smoothScroll: false\n      });\n    }\n\n    previousLengthRef.current = items.length;\n  }, [items.length]);\n  (0, _react.useEffect)(function () {\n    if (!isLoading) {\n      callbackCaptureRef.current = false;\n    }\n  }, [isLoading]);\n  return /*#__PURE__*/_react.default.createElement(Container, _extends({}, otherProps, {\n    style: {\n      height: virtualizer.getTotalSize(),\n      position: 'relative',\n      width: '100%'\n    }\n  }), virtualizer.getVirtualItems().map(function (virtual) {\n    var _item$id;\n\n    var item = items[virtual.index]; // Virtual item to loading\n\n    if (infiniteScroll && items.length !== 0 && virtual.index === items.length - 1 && onBottom && !callbackCaptureRef.current) {\n      callbackCaptureRef.current = true;\n      onBottom();\n    }\n\n    var publicItem = exclude ? (0, _utils.excludeProps)(item, exclude) : item;\n    var child = Array.isArray(publicApi) ? children.apply(void 0, [publicItem].concat(_toConsumableArray(publicApi))) : children(publicItem);\n    var key = (0, _utils.getKey)(virtual.index, (_item$id = item.id) !== null && _item$id !== void 0 ? _item$id : child.key, parentKey);\n    var props = {\n      ref: function ref(node) {\n        virtual.measureElement(node);\n        var ref = child.ref;\n\n        if (typeof ref === 'function') {\n          ref(node);\n        }\n      },\n      style: {\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        transform: \"translateY(\".concat(virtual.start, \"px)\"),\n        width: '100%'\n      }\n    };\n\n    if (ItemContainer) {\n      return /*#__PURE__*/_react.default.createElement(ItemContainer, {\n        index: virtual.index,\n        item: item,\n        key: key,\n        keyValue: key\n      }, /*#__PURE__*/_react.default.cloneElement(child, props));\n    }\n\n    return /*#__PURE__*/_react.default.cloneElement(child, _objectSpread(_objectSpread({\n      key: key\n    }, passthroughKey ? {\n      index: virtual.index,\n      keyValue: key\n    } : {}), props));\n  }));\n}\n\nfunction DynamicCollection(_ref2) {\n  var children = _ref2.children,\n      exclude = _ref2.exclude,\n      filter = _ref2.filter,\n      filterKey = _ref2.filterKey,\n      itemContainer = _ref2.itemContainer,\n      items = _ref2.items,\n      parentKey = _ref2.parentKey,\n      passthroughKey = _ref2.passthroughKey,\n      publicApi = _ref2.publicApi;\n  var state = (0, _useCollection.useCollection)({\n    children: children,\n    exclude: exclude,\n    filter: filter,\n    filterKey: filterKey,\n    itemContainer: itemContainer,\n    items: items,\n    parentKey: parentKey,\n    passthroughKey: passthroughKey,\n    publicApi: publicApi\n  });\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, state.collection);\n}\n\nfunction Collection(_ref3) {\n  var as = _ref3.as,\n      children = _ref3.children,\n      collection = _ref3.collection,\n      estimateSize = _ref3.estimateSize,\n      exclude = _ref3.exclude,\n      filter = _ref3.filter,\n      filterKey = _ref3.filterKey,\n      infiniteScroll = _ref3.infiniteScroll,\n      isLoading = _ref3.isLoading,\n      itemContainer = _ref3.itemContainer,\n      items = _ref3.items,\n      onBottom = _ref3.onBottom,\n      parentKey = _ref3.parentKey,\n      parentRef = _ref3.parentRef,\n      _ref3$passthroughKey = _ref3.passthroughKey,\n      passthroughKey = _ref3$passthroughKey === void 0 ? true : _ref3$passthroughKey,\n      publicApi = _ref3.publicApi,\n      _ref3$virtualize = _ref3.virtualize,\n      virtualize = _ref3$virtualize === void 0 ? false : _ref3$virtualize,\n      otherProps = _objectWithoutProperties(_ref3, _excluded2);\n\n  if (virtualize && children instanceof Function && items && parentRef) {\n    return /*#__PURE__*/_react.default.createElement(VirtualDynamicCollection, _extends({}, otherProps, {\n      as: as,\n      estimateSize: estimateSize,\n      infiniteScroll: infiniteScroll,\n      isLoading: isLoading,\n      itemContainer: itemContainer,\n      items: items,\n      onBottom: onBottom,\n      parentKey: parentKey,\n      parentRef: parentRef,\n      passthroughKey: passthroughKey,\n      publicApi: publicApi\n    }), children);\n  }\n\n  var Container = as !== null && as !== void 0 ? as : _react.default.Fragment;\n  var content;\n\n  if (collection) {\n    content = /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, collection.collection);\n  } else {\n    content = /*#__PURE__*/_react.default.createElement(DynamicCollection, {\n      exclude: exclude,\n      filter: filter,\n      filterKey: filterKey,\n      itemContainer: itemContainer,\n      items: items,\n      parentKey: parentKey,\n      passthroughKey: passthroughKey,\n      publicApi: publicApi\n    }, children);\n  }\n\n  return /*#__PURE__*/_react.default.createElement(Container, otherProps, content);\n}"]}