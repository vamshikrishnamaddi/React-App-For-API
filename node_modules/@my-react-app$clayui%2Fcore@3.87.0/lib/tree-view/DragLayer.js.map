{"version":3,"sources":["DragLayer.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_shared","require","_react","_interopRequireWildcard","_reactDnd","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","layerStyles","cursor","height","left","pointerEvents","position","top","width","zIndex","getItemStyles","currentOffset","mousePosition","ref","current","display","rect","getBoundingClientRect","transform","concat","x","y","WebkitTransform","DragLayer","_ref","itemNameKey","elementRef","useRef","_useDragLayer","useDragLayer","monitor","getSourceClientOffset","isDragging","item","getItem","useMousePosition","type","name","createElement","style","className","_default"],"mappings":"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","file":"DragLayer.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _shared = require(\"@clayui/shared\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDnd = require(\"react-dnd\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n/**\n * SPDX-FileCopyrightText: Â© 2021 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar layerStyles = {\n  cursor: 'grabbing',\n  height: '100%',\n  left: 0,\n  pointerEvents: 'none',\n  position: 'fixed',\n  top: 0,\n  width: '100%',\n  zIndex: 150\n};\n\nfunction getItemStyles(currentOffset, mousePosition, ref) {\n  if (!currentOffset || !ref.current) {\n    return {\n      display: 'none'\n    };\n  }\n\n  var rect = ref.current.getBoundingClientRect();\n  var transform = \"translate(\".concat(mousePosition[0] + currentOffset.x - rect.width * 0.5, \"px, \").concat(currentOffset.y, \"px)\");\n  return {\n    WebkitTransform: transform,\n    transform: transform\n  };\n}\n\nvar DragLayer = function DragLayer(_ref) {\n  var itemNameKey = _ref.itemNameKey;\n  var elementRef = (0, _react.useRef)(null);\n\n  var _useDragLayer = (0, _reactDnd.useDragLayer)(function (monitor) {\n    return {\n      currentOffset: monitor.getSourceClientOffset(),\n      isDragging: monitor.isDragging(),\n      item: monitor.getItem()\n    };\n  }),\n      currentOffset = _useDragLayer.currentOffset,\n      isDragging = _useDragLayer.isDragging,\n      item = _useDragLayer.item;\n\n  var mousePosition = (0, _shared.useMousePosition)();\n\n  if (!isDragging || item.type !== 'treeViewItem') {\n    return null;\n  }\n\n  var name = item.item[itemNameKey];\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: layerStyles\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"treeview-dragging\",\n    ref: elementRef,\n    style: getItemStyles(currentOffset, mousePosition, elementRef)\n  }, name));\n};\n\nvar _default = DragLayer;\nexports.default = _default;"]}