{"version":3,"sources":["svg4everybody.js"],"names":["root","factory","define","amd","svg4everybody","module","exports","embed","parent","svg","target","use","fragment","document","createDocumentFragment","viewBox","hasAttribute","getAttribute","setAttribute","clone","importNode","cloneNode","g","createElementNS","namespaceURI","childNodes","length","appendChild","firstChild","i","attributes","attr","name","value","loadreadystatechange","xhr","onreadystatechange","readyState","cachedDocument","_cachedDocument","implementation","createHTMLDocument","body","innerHTML","responseText","domain","_cachedTarget","_embeds","splice","map","item","id","getElementById","rawopts","oninterval","numberOfSvgUseElementsToBypass","uses","requestAnimationFrame","index","parentNode","getSVGAncestor","src","opts","attributeName","polyfill","validate","removeChild","srcSplit","split","url","shift","join","requests","XMLHttpRequest","open","send","push","Object","newerIEUA","webkitUA","olderEdgeUA","edgeUA","inIframe","window","top","self","test","navigator","userAgent","match","setTimeout","getElementsByTagName","node","nodeName","toLowerCase"],"mappings":"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","file":"svg4everybody.js","sourcesContent":["!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target, use) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = document.importNode ? document.importNode(target, !0) : target.cloneNode(!0), g = document.createElementNS(svg.namespaceURI || \"http://www.w3.org/2000/svg\", \"g\"); clone.childNodes.length; ) {\n                g.appendChild(clone.firstChild);\n            }\n            if (use) {\n                for (var i = 0; use.attributes.length > i; i++) {\n                    var attr = use.attributes[i];\n                    \"xlink:href\" !== attr.name && \"href\" !== attr.name && g.setAttribute(attr.name, attr.value);\n                }\n            }\n            fragment.appendChild(g), // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr, use) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, // ensure domains are the same, otherwise we'll have issues appending the\n                // element in IE 11\n                cachedDocument.domain !== document.domain && (cachedDocument.domain = document.domain), \n                xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target, use);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // if all <use>s in the array are being bypassed, don't proceed.\n            if (numberOfSvgUseElementsToBypass && uses.length - numberOfSvgUseElementsToBypass <= 0) {\n                return void requestAnimationFrame(oninterval, 67);\n            }\n            // if there are <use>s to process, proceed.\n            // reset the bypass counter, since the counter will be incremented for every bypassed element,\n            // even ones that were counted before.\n            numberOfSvgUseElementsToBypass = 0;\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr, use);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id), use);\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});"]}