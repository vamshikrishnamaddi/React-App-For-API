{"version":3,"sources":["useNavigation.js"],"names":["Object","defineProperty","exports","value","getFocusableList","isTypeahead","useNavigation","_react","require","_Keys","_useFocusManagement","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","verticalKeys","Keys","Up","Down","Home","End","horizontalKeys","Left","Right","_ref","_ref$activation","activation","active","containerRef","_ref$loop","loop","onNavigate","_ref$orientation","orientation","_ref$typeahead","typeahead","_ref$visible","visible","timeoutIdRef","useRef","stringRef","prevIndexRef","matchIndexRef","pendingEventStack","useEffect","clearTimeout","current","accessibilityFocus","useCallback","tab","tabs","indexOf","child","firstElementChild","isScrollable","maintainScrollVisibility","isElementInView","scrollIntoView","behavior","block","onKeyDown","event","persist","push","keys","alternativeKeys","includes","key","activeElement","document","position","findIndex","element","getAttribute","target","tagName","currentTarget","contains","Spacebar","preventDefault","stopPropagation","ctrlKey","metaKey","altKey","setTimeout","prevIndex","orderedList","concat","find","_ref2","_element$innerText","innerText","textContent","toLowerCase","toLocaleLowerCase","focus","click","getElementById","_index","shift","navigationProps","containeRef","querySelectorAll","FOCUSABLE_ELEMENTS","join","filter","isFocusable","contentEditable","disabled","offsetParent","tabIndex","bounding","getBoundingClientRect","top","left","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","scrollHeight","scrollParent","offsetHeight","offsetTop","parentOffsetHeight","scrollTop","scrollTo"],"mappings":"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","file":"useNavigation.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFocusableList = getFocusableList;\nexports.isTypeahead = isTypeahead;\nexports.useNavigation = useNavigation;\n\nvar _react = require(\"react\");\n\nvar _Keys = require(\"./Keys\");\n\nvar _useFocusManagement = require(\"./useFocusManagement\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar verticalKeys = [_Keys.Keys.Up, _Keys.Keys.Down, _Keys.Keys.Home, _Keys.Keys.End];\nvar horizontalKeys = [_Keys.Keys.Left, _Keys.Keys.Right, _Keys.Keys.Home, _Keys.Keys.End];\n\nfunction useNavigation(_ref) {\n  var _ref$activation = _ref.activation,\n      activation = _ref$activation === void 0 ? 'manual' : _ref$activation,\n      active = _ref.active,\n      containerRef = _ref.containerRef,\n      _ref$loop = _ref.loop,\n      loop = _ref$loop === void 0 ? false : _ref$loop,\n      onNavigate = _ref.onNavigate,\n      _ref$orientation = _ref.orientation,\n      orientation = _ref$orientation === void 0 ? 'horizontal' : _ref$orientation,\n      _ref$typeahead = _ref.typeahead,\n      typeahead = _ref$typeahead === void 0 ? false : _ref$typeahead,\n      _ref$visible = _ref.visible,\n      visible = _ref$visible === void 0 ? false : _ref$visible;\n  var timeoutIdRef = (0, _react.useRef)();\n  var stringRef = (0, _react.useRef)('');\n  var prevIndexRef = (0, _react.useRef)(-1);\n  var matchIndexRef = (0, _react.useRef)(null); // An event can be scheduled when the content is not visible in the DOM, it\n  // will be executed in sequence after the element is visible in the DOM.\n\n  var pendingEventStack = (0, _react.useRef)([]);\n  (0, _react.useEffect)(function () {\n    if (!visible) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [visible]);\n  var accessibilityFocus = (0, _react.useCallback)(function (tab, tabs) {\n    onNavigate(tab, tabs ? tabs.indexOf(tab) : null);\n    var child = containerRef.current.firstElementChild;\n\n    if (isScrollable(child)) {\n      maintainScrollVisibility(tab, child);\n    }\n\n    if (!isElementInView(tab)) {\n      tab.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest'\n      });\n    }\n  }, []);\n  var onKeyDown = (0, _react.useCallback)(function (event) {\n    if (!containerRef.current) {\n      event.persist();\n      pendingEventStack.current.push(event);\n      return;\n    }\n\n    var keys = orientation === 'vertical' ? verticalKeys : horizontalKeys;\n    var alternativeKeys = orientation === 'vertical' ? horizontalKeys : verticalKeys;\n\n    if (keys.includes(event.key) || typeahead && !alternativeKeys.includes(event.key)) {\n      var tabs = getFocusableList(containerRef);\n      var tab;\n\n      switch (event.key) {\n        case _Keys.Keys.Left:\n        case _Keys.Keys.Right:\n        case _Keys.Keys.Down:\n        case _Keys.Keys.Up:\n          {\n            var activeElement = document.activeElement;\n            var position = tabs.indexOf(activeElement);\n\n            if (typeof active === 'string') {\n              position = tabs.findIndex(function (element) {\n                return element.getAttribute('id') === active;\n              });\n            }\n\n            if (position === -1) {\n              break;\n            }\n\n            var key = orientation === 'vertical' ? _Keys.Keys.Up : _Keys.Keys.Left;\n            tab = tabs[event.key === key ? position - 1 : position + 1];\n\n            if (loop && !tab) {\n              tab = tabs[event.key === key ? tabs.length - 1 : 0];\n            }\n\n            break;\n          }\n\n        case _Keys.Keys.Home:\n        case _Keys.Keys.End:\n          tab = tabs[event.key === _Keys.Keys.Home ? 0 : tabs.length - 1];\n          break;\n\n        default:\n          {\n            var target = event.target;\n\n            if (!typeahead || target.tagName === 'INPUT') {\n              return;\n            }\n\n            if (event.currentTarget && !event.currentTarget.contains(target)) {\n              return;\n            }\n\n            if (stringRef.current.length > 0 && stringRef.current[0] !== _Keys.Keys.Spacebar) {\n              if (event.key === _Keys.Keys.Spacebar) {\n                event.preventDefault();\n                event.stopPropagation();\n              }\n            }\n\n            if (event.key.length !== 1 || event.ctrlKey || event.metaKey || event.altKey) {\n              return;\n            }\n\n            event.stopPropagation();\n\n            if (stringRef.current === event.key) {\n              stringRef.current = '';\n              prevIndexRef.current = matchIndexRef.current;\n            }\n\n            stringRef.current += event.key;\n            clearTimeout(timeoutIdRef.current);\n            timeoutIdRef.current = setTimeout(function () {\n              stringRef.current = '';\n              prevIndexRef.current = matchIndexRef.current;\n            }, 1000);\n            var prevIndex = prevIndexRef.current;\n            var orderedList = [].concat(_toConsumableArray(tabs.slice((prevIndex !== null && prevIndex !== void 0 ? prevIndex : 0) + 1)), _toConsumableArray(tabs.slice(0, (prevIndex !== null && prevIndex !== void 0 ? prevIndex : 0) + 1)));\n            tab = orderedList.find(function (element) {\n              var _ref2, _element$innerText;\n\n              return ((_ref2 = (_element$innerText = element.innerText) !== null && _element$innerText !== void 0 ? _element$innerText : element.textContent) === null || _ref2 === void 0 ? void 0 : _ref2.toLowerCase().indexOf(stringRef.current.toLocaleLowerCase())) === 0;\n            });\n\n            if (tab) {\n              matchIndexRef.current = tabs.indexOf(tab);\n            }\n\n            break;\n          }\n      }\n\n      if (tab) {\n        event.preventDefault();\n\n        if (onNavigate) {\n          accessibilityFocus(tab, tabs);\n        } else {\n          tab.focus();\n        }\n\n        if (activation === 'automatic') {\n          tab.click();\n        }\n      }\n    }\n  }, [active]);\n  (0, _react.useEffect)(function () {\n    // Moves the scroll to the element with visual \"focus\" if it exists.\n    if (visible && containerRef.current && active && onNavigate) {\n      var child = containerRef.current.firstElementChild;\n      var activeElement = document.getElementById(active);\n\n      if (activeElement && isScrollable(child)) {\n        maintainScrollVisibility(activeElement, child);\n      }\n    }\n  }, [visible]);\n  (0, _react.useEffect)(function () {\n    if (visible && pendingEventStack.current.length !== 0) {\n      for (var _index = 0; _index < pendingEventStack.current.length; _index++) {\n        var event = pendingEventStack.current.shift();\n        onKeyDown(event);\n      }\n    }\n  }, [visible]);\n  var navigationProps = {\n    onKeyDown: onKeyDown\n  };\n  return {\n    accessibilityFocus: accessibilityFocus,\n    navigationProps: navigationProps\n  };\n}\n\nfunction getFocusableList(containeRef) {\n  if (!containeRef.current) {\n    return [];\n  }\n\n  return Array.from(containeRef.current.querySelectorAll(_useFocusManagement.FOCUSABLE_ELEMENTS.join(','))).filter(function (element) {\n    return (0, _useFocusManagement.isFocusable)({\n      contentEditable: element.contentEditable,\n      disabled: element.getAttribute('disabled') !== null,\n      offsetParent: element.offsetParent,\n      tabIndex: 0,\n      tagName: element.tagName\n    });\n  });\n}\n\nfunction isTypeahead(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey && !event.altKey;\n}\n\nfunction isElementInView(element) {\n  var bounding = element.getBoundingClientRect();\n  return bounding.top >= 0 && bounding.left >= 0 && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) && bounding.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\n\nfunction isScrollable(element) {\n  return element && element.clientHeight < element.scrollHeight;\n}\n\nfunction maintainScrollVisibility(activeElement, scrollParent) {\n  var offsetHeight = activeElement.offsetHeight,\n      offsetTop = activeElement.offsetTop;\n  var parentOffsetHeight = scrollParent.offsetHeight,\n      scrollTop = scrollParent.scrollTop;\n  var isAbove = offsetTop < scrollTop;\n  var isBelow = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n\n  if (isAbove) {\n    scrollParent.scrollTo(0, offsetTop);\n  } else if (isBelow) {\n    scrollParent.scrollTo(0, offsetTop - parentOffsetHeight + offsetHeight);\n  }\n}"]}