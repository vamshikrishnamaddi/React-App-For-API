{"version":3,"sources":["observeRect.js"],"names":["Object","defineProperty","exports","value","observeRect","rectAttrs","rectChanged","a","arguments","length","undefined","b","some","prop","rafId","run","node","state","newRect","getBoundingClientRect","rect","callback","window","requestAnimationFrame","hasRectChanged","cancelAnimationFrame"],"mappings":"AAAA;;;;;;AAEAA,WAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,aAAO;AADoC,KAA7C;AAGAD,YAAQE,WAAR,GAAsB,KAAK,CAA3B;;AAEA;;;;AAIA,QAAIC,YAAY,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,OAA7B,EAAsC,KAAtC,EAA6C,OAA7C,CAAhB;;AAEA,QAAIC,cAAc,SAASA,WAAT,GAAuB;AACvC,UAAIC,IAAIC,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAA5E;AACA,UAAIG,IAAIH,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAA5E;AACA,aAAOH,UAAUO,IAAV,CAAe,UAAUC,IAAV,EAAgB;AACpC,eAAON,EAAEM,IAAF,MAAYF,EAAEE,IAAF,CAAnB;AACD,OAFM,CAAP;AAGD,KAND;;AAQA,QAAIC,KAAJ;;AAEA,QAAIC,MAAM,SAASA,GAAT,CAAaC,IAAb,EAAmBC,KAAnB,EAA0B;AAClC,UAAIC,UAAUF,KAAKG,qBAAL,EAAd;;AAEA,UAAIb,YAAYY,OAAZ,EAAqBD,MAAMG,IAA3B,CAAJ,EAAsC;AACpCH,cAAMG,IAAN,GAAaF,OAAb;AACAD,cAAMI,QAAN,CAAeJ,MAAMG,IAArB;AACD;;AAEDN,cAAQQ,OAAOC,qBAAP,CAA6B,YAAY;AAC/C,eAAOR,IAAIC,IAAJ,EAAUC,KAAV,CAAP;AACD,OAFO,CAAR;AAGD,KAXD;;AAaA,QAAIb,cAAc,SAASA,WAAT,CAAqBY,IAArB,EAA2BK,QAA3B,EAAqC;AACrDN,UAAIC,IAAJ,EAAU;AACRK,kBAAUA,QADF;AAERG,wBAAgB,KAFR;AAGRJ,cAAMV;AAHE,OAAV;AAKA,aAAO,YAAY;AACjBe,6BAAqBX,KAArB;AACD,OAFD;AAGD,KATD;;AAWAZ,YAAQE,WAAR,GAAsBA,WAAtB","file":"observeRect.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.observeRect = void 0;\n\n/**\n * SPDX-FileCopyrightText: Â© 2021 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar rectAttrs = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged() {\n  var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return rectAttrs.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar rafId;\n\nvar run = function run(node, state) {\n  var newRect = node.getBoundingClientRect();\n\n  if (rectChanged(newRect, state.rect)) {\n    state.rect = newRect;\n    state.callback(state.rect);\n  }\n\n  rafId = window.requestAnimationFrame(function () {\n    return run(node, state);\n  });\n};\n\nvar observeRect = function observeRect(node, callback) {\n  run(node, {\n    callback: callback,\n    hasRectChanged: false,\n    rect: undefined\n  });\n  return function () {\n    cancelAnimationFrame(rafId);\n  };\n};\n\nexports.observeRect = observeRect;"]}