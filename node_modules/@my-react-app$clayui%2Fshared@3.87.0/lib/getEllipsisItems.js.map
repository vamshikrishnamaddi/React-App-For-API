{"version":3,"sources":["getEllipsisItems.js"],"names":["Object","defineProperty","exports","value","getEllipsisItems","_react","_interopRequireDefault","require","obj","__esModule","default","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_extends","assign","bind","target","arguments","source","key","hasOwnProperty","apply","getBufferList","start","end","config","EllipsisComponent","ellipsisProps","items","spritemap","removedItems","Math","max","createElement","ellipsisBuffer","activeIndex","undefined","lastIndex","leftBuffer","rightBuffer","newArray","concat","min","push"],"mappings":"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","file":"getEllipsisItems.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getEllipsisItems = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar getBufferList = function getBufferList(start, end, config) {\n  var EllipsisComponent = config.EllipsisComponent,\n      ellipsisProps = config.ellipsisProps,\n      items = config.items,\n      spritemap = config.spritemap;\n  var removedItems = items.slice(start, Math.max(end, start));\n\n  if (removedItems.length > 1) {\n    return [/*#__PURE__*/_react.default.createElement(EllipsisComponent, _extends({\n      items: removedItems,\n      key: \"ellipsisComponent\",\n      spritemap: spritemap\n    }, ellipsisProps))];\n  }\n\n  return removedItems;\n};\n\nvar getEllipsisItems = function getEllipsisItems(config, ellipsisBuffer) {\n  var activeIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var items = config.items;\n  var lastIndex = items.length - 1;\n  var leftBufferEnd = activeIndex - ellipsisBuffer;\n  var rightBufferStart = activeIndex + ellipsisBuffer + 1;\n  var leftBuffer = getBufferList(1, leftBufferEnd, config);\n  var rightBuffer = getBufferList(rightBufferStart, lastIndex, config);\n  var newArray = [items[0]].concat(_toConsumableArray(leftBuffer), _toConsumableArray(items.slice(Math.max(activeIndex - ellipsisBuffer, 1), // Add 1 to account for active index\n  Math.min(activeIndex + ellipsisBuffer + 1, lastIndex))), _toConsumableArray(rightBuffer));\n\n  if (items.length > 1) {\n    newArray.push(items[lastIndex]);\n  }\n\n  return newArray;\n};\n\nexports.getEllipsisItems = getEllipsisItems;"]}