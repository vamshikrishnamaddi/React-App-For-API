{"version":3,"sources":["Portal.js"],"names":["Object","defineProperty","exports","value","ClayPortal","_provider","require","_classnames","_interopRequireDefault","_react","_reactDom","obj","__esModule","default","ClayPortalContext","createContext","displayName","createDivElement","className","id","element","document","createElement","setAttribute","_ref","children","containerRef","subPortalRef","_useProvider","useProvider","theme","parentPortalRef","useContext","portalRef","useRef","useEffect","closestParent","current","body","elToMountTo","appendChild","remove","removeChild","content","Provider","createPortal"],"mappings":"AAAA;;;;;;AAEAA,WAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,aAAO;AADoC,KAA7C;AAGAD,YAAQE,UAAR,GAAqB,KAAK,CAA1B;;AAEA,QAAIC,YAAYC,QAAQ,+BAAR,CAAhB;;AAEA,QAAIC,cAAcC,uBAAuBF,QAAQ,yBAAR,CAAvB,CAAlB;;AAEA,QAAIG,SAASD,uBAAuBF,QAAQ,oBAAR,CAAvB,CAAb;;AAEA,QAAII,YAAYJ,QAAQ,wBAAR,CAAhB;;AAEA,aAASE,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,aAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F;;;;AAIA,QAAIG,oBAAoB,aAAaL,OAAOI,OAAP,CAAeE,aAAf,CAA6B,IAA7B,CAArC;;AAEAD,sBAAkBE,WAAlB,GAAgC,mBAAhC;;AAEA,QAAIC,mBAAmB,SAASA,gBAAT,CAA0BC,SAA1B,EAAqCC,EAArC,EAAyC;AAC9D,UAAIC,UAAUC,SAASC,aAAT,CAAuB,KAAvB,CAAd;;AAEA,UAAIJ,SAAJ,EAAe;AACbE,gBAAQG,YAAR,CAAqB,OAArB,EAA8BL,SAA9B;AACD;;AAED,UAAIC,EAAJ,EAAQ;AACNC,gBAAQG,YAAR,CAAqB,IAArB,EAA2BJ,EAA3B;AACD;;AAED,aAAOC,OAAP;AACD,KAZD;;AAcA,QAAIhB,aAAa,SAASA,UAAT,CAAoBoB,IAApB,EAA0B;AACzC,UAAIC,WAAWD,KAAKC,QAApB;AAAA,UACIP,YAAYM,KAAKN,SADrB;AAAA,UAEIQ,eAAeF,KAAKE,YAFxB;AAAA,UAGIP,KAAKK,KAAKL,EAHd;AAAA,UAIIQ,eAAeH,KAAKG,YAJxB;;AAMA,UAAIC,eAAe,CAAC,GAAGvB,UAAUwB,WAAd,GAAnB;AAAA,UACIC,QAAQF,aAAaE,KADzB;;AAGA,UAAIC,kBAAkBtB,OAAOI,OAAP,CAAemB,UAAf,CAA0BlB,iBAA1B,CAAtB;;AAEA,UAAImB,YAAYxB,OAAOI,OAAP,CAAeqB,MAAf,CAAsB,OAAOb,QAAP,KAAoB,WAApB,GAAkCJ,iBAAiB,CAAC,GAAGV,YAAYM,OAAhB,EAAyBiB,KAAzB,EAAgCZ,SAAhC,CAAjB,EAA6DC,EAA7D,CAAlC,GAAqG,IAA3H,CAAhB;;AAEAV,aAAOI,OAAP,CAAesB,SAAf,CAAyB,YAAY;AACnC,YAAIC,gBAAgBL,mBAAmBA,gBAAgBM,OAAnC,GAA6CN,gBAAgBM,OAA7D,GAAuEhB,SAASiB,IAApG;AACA,YAAIC,cAAcb,gBAAgBA,aAAaW,OAA7B,GAAuCX,aAAaW,OAApD,GAA8DD,aAAhF;;AAEA,YAAIG,eAAeN,UAAUI,OAA7B,EAAsC;AACpCE,sBAAYC,WAAZ,CAAwBP,UAAUI,OAAlC;AACD;;AAED,eAAO,YAAY;AACjB,cAAIJ,UAAUI,OAAd,EAAuB;AACrB,gBAAI,OAAOJ,UAAUI,OAAV,CAAkBI,MAAzB,KAAoC,UAAxC,EAAoD;AAClDR,wBAAUI,OAAV,CAAkBI,MAAlB;AACD,aAFD,MAEO,IAAIF,WAAJ,EAAiB;AACtBA,0BAAYG,WAAZ,CAAwBT,UAAUI,OAAlC;AACD;AACF;AACF,SARD;AASD,OAjBD,EAiBG,CAACX,YAAD,EAAeK,eAAf,CAjBH;;AAmBA,UAAIY,UAAU,aAAalC,OAAOI,OAAP,CAAeS,aAAf,CAA6BR,kBAAkB8B,QAA/C,EAAyD;AAClFzC,eAAOwB,eAAeA,YAAf,GAA8BM;AAD6C,OAAzD,EAExBR,QAFwB,CAA3B;;AAIA,aAAOQ,UAAUI,OAAV,GAAoB,aAAa,CAAC,GAAG3B,UAAUmC,YAAd,EAA4BF,OAA5B,EAAqCV,UAAUI,OAA/C,CAAjC,GAA2FM,OAAlG;AACD,KAtCD;;AAwCAzC,YAAQE,UAAR,GAAqBA,UAArB","file":"Portal.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClayPortal = void 0;\n\nvar _provider = require(\"@clayui/provider\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * SPDX-FileCopyrightText: Â© 2019 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar ClayPortalContext = /*#__PURE__*/_react.default.createContext(null);\n\nClayPortalContext.displayName = 'ClayPortalContext';\n\nvar createDivElement = function createDivElement(className, id) {\n  var element = document.createElement('div');\n\n  if (className) {\n    element.setAttribute('class', className);\n  }\n\n  if (id) {\n    element.setAttribute('id', id);\n  }\n\n  return element;\n};\n\nvar ClayPortal = function ClayPortal(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      containerRef = _ref.containerRef,\n      id = _ref.id,\n      subPortalRef = _ref.subPortalRef;\n\n  var _useProvider = (0, _provider.useProvider)(),\n      theme = _useProvider.theme;\n\n  var parentPortalRef = _react.default.useContext(ClayPortalContext);\n\n  var portalRef = _react.default.useRef(typeof document !== 'undefined' ? createDivElement((0, _classnames.default)(theme, className), id) : null);\n\n  _react.default.useEffect(function () {\n    var closestParent = parentPortalRef && parentPortalRef.current ? parentPortalRef.current : document.body;\n    var elToMountTo = containerRef && containerRef.current ? containerRef.current : closestParent;\n\n    if (elToMountTo && portalRef.current) {\n      elToMountTo.appendChild(portalRef.current);\n    }\n\n    return function () {\n      if (portalRef.current) {\n        if (typeof portalRef.current.remove === 'function') {\n          portalRef.current.remove();\n        } else if (elToMountTo) {\n          elToMountTo.removeChild(portalRef.current);\n        }\n      }\n    };\n  }, [containerRef, parentPortalRef]);\n\n  var content = /*#__PURE__*/_react.default.createElement(ClayPortalContext.Provider, {\n    value: subPortalRef ? subPortalRef : portalRef\n  }, children);\n\n  return portalRef.current ? /*#__PURE__*/(0, _reactDom.createPortal)(content, portalRef.current) : content;\n};\n\nexports.ClayPortal = ClayPortal;"]}