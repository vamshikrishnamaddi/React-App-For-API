{"version":3,"sources":["index.js"],"names":["exports","fromCallback","fn","Object","defineProperty","arguments","length","apply","Promise","resolve","reject","err","res","value","name","fromPromise","cb","then","r"],"mappings":"AAAA;;;;;;AAEAA,YAAQC,YAAR,GAAuB,UAAUC,EAAV,EAAc;AACnC,aAAOC,OAAOC,cAAP,CAAsB,YAAY;AACvC,YAAI,OAAOC,UAAUA,UAAUC,MAAV,GAAmB,CAA7B,CAAP,KAA2C,UAA/C,EAA2DJ,GAAGK,KAAH,CAAS,IAAT,EAAeF,SAAf,EAA3D,KACK;AACH,iBAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCL,sBAAUA,UAAUC,MAApB,IAA8B,CAACK,GAAD,EAAMC,GAAN,KAAc;AAC1C,kBAAID,GAAJ,EAAS,OAAOD,OAAOC,GAAP,CAAP;AACTF,sBAAQG,GAAR;AACD,aAHD;AAIAP,sBAAUC,MAAV;AACAJ,eAAGK,KAAH,CAAS,IAAT,EAAeF,SAAf;AACD,WAPM,CAAP;AAQD;AACF,OAZM,EAYJ,MAZI,EAYI,EAAEQ,OAAOX,GAAGY,IAAZ,EAZJ,CAAP;AAaD,KAdD;;AAgBAd,YAAQe,WAAR,GAAsB,UAAUb,EAAV,EAAc;AAClC,aAAOC,OAAOC,cAAP,CAAsB,YAAY;AACvC,cAAMY,KAAKX,UAAUA,UAAUC,MAAV,GAAmB,CAA7B,CAAX;AACA,YAAI,OAAOU,EAAP,KAAc,UAAlB,EAA8B,OAAOd,GAAGK,KAAH,CAAS,IAAT,EAAeF,SAAf,CAAP,CAA9B,KACKH,GAAGK,KAAH,CAAS,IAAT,EAAeF,SAAf,EAA0BY,IAA1B,CAA+BC,KAAKF,GAAG,IAAH,EAASE,CAAT,CAApC,EAAiDF,EAAjD;AACN,OAJM,EAIJ,MAJI,EAII,EAAEH,OAAOX,GAAGY,IAAZ,EAJJ,CAAP;AAKD,KAND","file":"index.js","sourcesContent":["'use strict'\n\nexports.fromCallback = function (fn) {\n  return Object.defineProperty(function () {\n    if (typeof arguments[arguments.length - 1] === 'function') fn.apply(this, arguments)\n    else {\n      return new Promise((resolve, reject) => {\n        arguments[arguments.length] = (err, res) => {\n          if (err) return reject(err)\n          resolve(res)\n        }\n        arguments.length++\n        fn.apply(this, arguments)\n      })\n    }\n  }, 'name', { value: fn.name })\n}\n\nexports.fromPromise = function (fn) {\n  return Object.defineProperty(function () {\n    const cb = arguments[arguments.length - 1]\n    if (typeof cb !== 'function') return fn.apply(this, arguments)\n    else fn.apply(this, arguments).then(r => cb(null, r), cb)\n  }, 'name', { value: fn.name })\n}\n"]}