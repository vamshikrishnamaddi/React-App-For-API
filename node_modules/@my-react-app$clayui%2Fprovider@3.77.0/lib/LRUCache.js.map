{"version":3,"sources":["LRUCache.js"],"names":["Object","defineProperty","exports","value","LRUCache","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","DEFAULT_MAX_SIZE","maxSize","arguments","undefined","_maxSize","_storage","Map","reset","has","get","delete","set","size","iterator","keys","count","_iterator$next","next","_value"],"mappings":"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","file":"LRUCache.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LRUCache = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n/**\n * SPDX-FileCopyrightText: Â© 2019 Liferay, Inc. <https://liferay.com>\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar DEFAULT_MAX_SIZE = 20;\n\nvar LRUCache = /*#__PURE__*/function () {\n  function LRUCache() {\n    var maxSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_MAX_SIZE;\n\n    _classCallCheck(this, LRUCache);\n\n    if (maxSize <= 0) {\n      throw new TypeError('LRUCache: max must be a non-negative number');\n    }\n\n    this._maxSize = maxSize;\n    this._storage = new Map();\n  }\n\n  _createClass(LRUCache, [{\n    key: \"reset\",\n    value: function reset() {\n      this._storage = new Map();\n      return this._storage;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      return this._storage.has(key);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      if (this._storage.has(key)) {\n        var value = this._storage.get(key);\n\n        this._storage.delete(key);\n\n        this._storage.set(key, value);\n\n        return value;\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      if (this._storage.size >= this._maxSize) {\n        var iterator = this._storage.keys();\n\n        var count = this._maxSize - (this._storage.size - 1);\n\n        while (count) {\n          var _iterator$next = iterator.next(),\n              _value = _iterator$next.value;\n\n          this._storage.delete(_value);\n\n          count--;\n        }\n      }\n\n      this._storage.set(key, value);\n    }\n  }]);\n\n  return LRUCache;\n}();\n\nexports.LRUCache = LRUCache;"]}