{"version":3,"sources":["animationFrame.js"],"names":["_interopRequireDefault","require","exports","__esModule","request","cancel","_canUseDOM","prev","Date","getTime","fallback","fn","curr","ms","Math","max","handle","setTimeout","vendors","cancelMethod","rafImpl","getKey","vendor","k","toUpperCase","substr","default","some","rafMethod","window","cb","id"],"mappings":"AAAA;;;;;;AAEA,QAAIA,yBAAyBC,QAAQ,2DAAR,CAA7B;;AAEAC,YAAQC,UAAR,GAAqB,IAArB;AACAD,YAAQE,OAAR,GAAkBF,QAAQG,MAAR,GAAiB,KAAK,CAAxC;;AAEA,QAAIC,aAAaN,uBAAuBC,QAAQ,aAAR,CAAvB,CAAjB;;AAEA;AACA,QAAIM,OAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAX;;AAEA,aAASC,QAAT,CAAkBC,EAAlB,EAAsB;AACpB,UAAIC,OAAO,IAAIJ,IAAJ,GAAWC,OAAX,EAAX;AACA,UAAII,KAAKC,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAMH,OAAOL,IAAb,CAAZ,CAAT;AACA,UAAIS,SAASC,WAAWN,EAAX,EAAeE,EAAf,CAAb;AACAN,aAAOK,IAAP;AACA,aAAOI,MAAP;AACD;;AAED,QAAIE,UAAU,CAAC,EAAD,EAAK,QAAL,EAAe,KAAf,EAAsB,GAAtB,EAA2B,IAA3B,CAAd;AACA,QAAIC,eAAe,cAAnB;AACA,QAAIC,UAAUV,QAAd,C,CAAwB;;AAExB,QAAIW,SAAS,SAASA,MAAT,CAAgBC,MAAhB,EAAwBC,CAAxB,EAA2B;AACtC,aAAOD,UAAU,CAACA,MAAD,GAAUC,CAAV,GAAcA,EAAE,CAAF,EAAKC,WAAL,KAAqBD,EAAEE,MAAF,CAAS,CAAT,CAA7C,IAA4D,gBAAnE;AACD,KAFD;;AAIA,QAAInB,WAAWoB,OAAf,EAAwB;AACtBR,cAAQS,IAAR,CAAa,UAAUL,MAAV,EAAkB;AAC7B,YAAIM,YAAYP,OAAOC,MAAP,EAAe,SAAf,CAAhB;;AAEA,YAAIM,aAAaC,MAAjB,EAAyB;AACvBV,yBAAeE,OAAOC,MAAP,EAAe,QAAf,CAAf,CADuB,CACkB;;AAEzCF,oBAAU,SAASA,OAAT,CAAiBU,EAAjB,EAAqB;AAC7B,mBAAOD,OAAOD,SAAP,EAAkBE,EAAlB,CAAP;AACD,WAFD;AAGD;;AAED,eAAO,CAAC,CAACV,OAAT;AACD,OAZD;AAaD;;AAED,QAAIf,SAAS,SAASA,MAAT,CAAgB0B,EAAhB,EAAoB;AAC/B;AACA,UAAI,OAAOF,OAAOV,YAAP,CAAP,KAAgC,UAApC,EAAgDU,OAAOV,YAAP,EAAqBY,EAArB;AACjD,KAHD;;AAKA7B,YAAQG,MAAR,GAAiBA,MAAjB;AACA,QAAID,UAAUgB,OAAd;AACAlB,YAAQE,OAAR,GAAkBA,OAAlB","file":"animationFrame.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.request = exports.cancel = void 0;\n\nvar _canUseDOM = _interopRequireDefault(require(\"./canUseDOM\"));\n\n/* https://github.com/component/raf */\nvar prev = new Date().getTime();\n\nfunction fallback(fn) {\n  var curr = new Date().getTime();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var handle = setTimeout(fn, ms);\n  prev = curr;\n  return handle;\n}\n\nvar vendors = ['', 'webkit', 'moz', 'o', 'ms'];\nvar cancelMethod = 'clearTimeout';\nvar rafImpl = fallback; // eslint-disable-next-line import/no-mutable-exports\n\nvar getKey = function getKey(vendor, k) {\n  return vendor + (!vendor ? k : k[0].toUpperCase() + k.substr(1)) + \"AnimationFrame\";\n};\n\nif (_canUseDOM.default) {\n  vendors.some(function (vendor) {\n    var rafMethod = getKey(vendor, 'request');\n\n    if (rafMethod in window) {\n      cancelMethod = getKey(vendor, 'cancel'); // @ts-ignore\n\n      rafImpl = function rafImpl(cb) {\n        return window[rafMethod](cb);\n      };\n    }\n\n    return !!rafImpl;\n  });\n}\n\nvar cancel = function cancel(id) {\n  // @ts-ignore\n  if (typeof window[cancelMethod] === 'function') window[cancelMethod](id);\n};\n\nexports.cancel = cancel;\nvar request = rafImpl;\nexports.request = request;"]}