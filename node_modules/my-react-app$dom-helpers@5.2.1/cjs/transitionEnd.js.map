{"version":3,"sources":["transitionEnd.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","transitionEnd","_css","_listen","_triggerEvent","parseDuration","node","str","mult","indexOf","parseFloat","emulateTransitionEnd","element","duration","padding","called","handle","setTimeout","remove","once","clearTimeout","handler","removeEmulate","module"],"mappings":"AAAA;;;;;;AAEA,QAAIA,yBAAyBC,QAAQ,2DAAR,CAA7B;;AAEAC,YAAQC,UAAR,GAAqB,IAArB;AACAD,YAAQE,OAAR,GAAkBC,aAAlB;;AAEA,QAAIC,OAAON,uBAAuBC,QAAQ,OAAR,CAAvB,CAAX;;AAEA,QAAIM,UAAUP,uBAAuBC,QAAQ,UAAR,CAAvB,CAAd;;AAEA,QAAIO,gBAAgBR,uBAAuBC,QAAQ,gBAAR,CAAvB,CAApB;;AAEA,aAASQ,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,UAAIC,MAAM,CAAC,GAAGL,KAAKF,OAAT,EAAkBM,IAAlB,EAAwB,oBAAxB,KAAiD,EAA3D;AACA,UAAIE,OAAOD,IAAIE,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAAvB,GAA2B,IAA3B,GAAkC,CAA7C;AACA,aAAOC,WAAWH,GAAX,IAAkBC,IAAzB;AACD;;AAED,aAASG,oBAAT,CAA8BC,OAA9B,EAAuCC,QAAvC,EAAiDC,OAAjD,EAA0D;AACxD,UAAIA,YAAY,KAAK,CAArB,EAAwB;AACtBA,kBAAU,CAAV;AACD;;AAED,UAAIC,SAAS,KAAb;AACA,UAAIC,SAASC,WAAW,YAAY;AAClC,YAAI,CAACF,MAAL,EAAa,CAAC,GAAGX,cAAcJ,OAAlB,EAA2BY,OAA3B,EAAoC,eAApC,EAAqD,IAArD;AACd,OAFY,EAEVC,WAAWC,OAFD,CAAb;AAGA,UAAII,SAAS,CAAC,GAAGf,QAAQH,OAAZ,EAAqBY,OAArB,EAA8B,eAA9B,EAA+C,YAAY;AACtEG,iBAAS,IAAT;AACD,OAFY,EAEV;AACDI,cAAM;AADL,OAFU,CAAb;AAKA,aAAO,YAAY;AACjBC,qBAAaJ,MAAb;AACAE;AACD,OAHD;AAID;;AAED,aAASjB,aAAT,CAAuBW,OAAvB,EAAgCS,OAAhC,EAAyCR,QAAzC,EAAmDC,OAAnD,EAA4D;AAC1D,UAAID,YAAY,IAAhB,EAAsBA,WAAWR,cAAcO,OAAd,KAA0B,CAArC;AACtB,UAAIU,gBAAgBX,qBAAqBC,OAArB,EAA8BC,QAA9B,EAAwCC,OAAxC,CAApB;AACA,UAAII,SAAS,CAAC,GAAGf,QAAQH,OAAZ,EAAqBY,OAArB,EAA8B,eAA9B,EAA+CS,OAA/C,CAAb;AACA,aAAO,YAAY;AACjBC;AACAJ;AACD,OAHD;AAID;;AAEDK,WAAOzB,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"transitionEnd.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = transitionEnd;\n\nvar _css = _interopRequireDefault(require(\"./css\"));\n\nvar _listen = _interopRequireDefault(require(\"./listen\"));\n\nvar _triggerEvent = _interopRequireDefault(require(\"./triggerEvent\"));\n\nfunction parseDuration(node) {\n  var str = (0, _css.default)(node, 'transitionDuration') || '';\n  var mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nfunction emulateTransitionEnd(element, duration, padding) {\n  if (padding === void 0) {\n    padding = 5;\n  }\n\n  var called = false;\n  var handle = setTimeout(function () {\n    if (!called) (0, _triggerEvent.default)(element, 'transitionend', true);\n  }, duration + padding);\n  var remove = (0, _listen.default)(element, 'transitionend', function () {\n    called = true;\n  }, {\n    once: true\n  });\n  return function () {\n    clearTimeout(handle);\n    remove();\n  };\n}\n\nfunction transitionEnd(element, handler, duration, padding) {\n  if (duration == null) duration = parseDuration(element) || 0;\n  var removeEmulate = emulateTransitionEnd(element, duration, padding);\n  var remove = (0, _listen.default)(element, 'transitionend', handler);\n  return function () {\n    removeEmulate();\n    remove();\n  };\n}\n\nmodule.exports = exports[\"default\"];"]}