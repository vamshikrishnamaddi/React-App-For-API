{"version":3,"sources":["transitionEnd.js"],"names":["css","listen","triggerEvent","parseDuration","node","str","mult","indexOf","parseFloat","emulateTransitionEnd","element","duration","padding","called","handle","setTimeout","remove","once","clearTimeout","transitionEnd","handler","removeEmulate"],"mappings":";;;;AAAA,WAAOA,GAAP,MAAgB,OAAhB;AACA,WAAOC,MAAP,MAAmB,UAAnB;AACA,WAAOC,YAAP,MAAyB,gBAAzB;;AAEA,aAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,UAAIC,MAAML,IAAII,IAAJ,EAAU,oBAAV,KAAmC,EAA7C;AACA,UAAIE,OAAOD,IAAIE,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAAvB,GAA2B,IAA3B,GAAkC,CAA7C;AACA,aAAOC,WAAWH,GAAX,IAAkBC,IAAzB;AACD;;AAED,aAASG,oBAAT,CAA8BC,OAA9B,EAAuCC,QAAvC,EAAiDC,OAAjD,EAA0D;AACxD,UAAIA,YAAY,KAAK,CAArB,EAAwB;AACtBA,kBAAU,CAAV;AACD;;AAED,UAAIC,SAAS,KAAb;AACA,UAAIC,SAASC,WAAW,YAAY;AAClC,YAAI,CAACF,MAAL,EAAaX,aAAaQ,OAAb,EAAsB,eAAtB,EAAuC,IAAvC;AACd,OAFY,EAEVC,WAAWC,OAFD,CAAb;AAGA,UAAII,SAASf,OAAOS,OAAP,EAAgB,eAAhB,EAAiC,YAAY;AACxDG,iBAAS,IAAT;AACD,OAFY,EAEV;AACDI,cAAM;AADL,OAFU,CAAb;AAKA,aAAO,YAAY;AACjBC,qBAAaJ,MAAb;AACAE;AACD,OAHD;AAID;;AAED,mBAAe,SAASG,aAAT,CAAuBT,OAAvB,EAAgCU,OAAhC,EAAyCT,QAAzC,EAAmDC,OAAnD,EAA4D;AACzE,UAAID,YAAY,IAAhB,EAAsBA,WAAWR,cAAcO,OAAd,KAA0B,CAArC;AACtB,UAAIW,gBAAgBZ,qBAAqBC,OAArB,EAA8BC,QAA9B,EAAwCC,OAAxC,CAApB;AACA,UAAII,SAASf,OAAOS,OAAP,EAAgB,eAAhB,EAAiCU,OAAjC,CAAb;AACA,aAAO,YAAY;AACjBC;AACAL;AACD,OAHD;AAID","file":"transitionEnd.js","sourcesContent":["import css from './css';\nimport listen from './listen';\nimport triggerEvent from './triggerEvent';\n\nfunction parseDuration(node) {\n  var str = css(node, 'transitionDuration') || '';\n  var mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nfunction emulateTransitionEnd(element, duration, padding) {\n  if (padding === void 0) {\n    padding = 5;\n  }\n\n  var called = false;\n  var handle = setTimeout(function () {\n    if (!called) triggerEvent(element, 'transitionend', true);\n  }, duration + padding);\n  var remove = listen(element, 'transitionend', function () {\n    called = true;\n  }, {\n    once: true\n  });\n  return function () {\n    clearTimeout(handle);\n    remove();\n  };\n}\n\nexport default function transitionEnd(element, handler, duration, padding) {\n  if (duration == null) duration = parseDuration(element) || 0;\n  var removeEmulate = emulateTransitionEnd(element, duration, padding);\n  var remove = listen(element, 'transitionend', handler);\n  return function () {\n    removeEmulate();\n    remove();\n  };\n}"]}