{"version":3,"sources":["animationFrame.js"],"names":["canUseDOM","prev","Date","getTime","fallback","fn","curr","ms","Math","max","handle","setTimeout","vendors","cancelMethod","rafImpl","getKey","vendor","k","toUpperCase","substr","some","rafMethod","window","cb","cancel","id","request"],"mappings":";;;;AAAA,WAAOA,SAAP,MAAsB,aAAtB;;AAEA;AACA,QAAIC,OAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAX;;AAEA,aAASC,QAAT,CAAkBC,EAAlB,EAAsB;AACpB,UAAIC,OAAO,IAAIJ,IAAJ,GAAWC,OAAX,EAAX;AACA,UAAII,KAAKC,KAAKC,GAAL,CAAS,CAAT,EAAY,MAAMH,OAAOL,IAAb,CAAZ,CAAT;AACA,UAAIS,SAASC,WAAWN,EAAX,EAAeE,EAAf,CAAb;AACAN,aAAOK,IAAP;AACA,aAAOI,MAAP;AACD;;AAED,QAAIE,UAAU,CAAC,EAAD,EAAK,QAAL,EAAe,KAAf,EAAsB,GAAtB,EAA2B,IAA3B,CAAd;AACA,QAAIC,eAAe,cAAnB;AACA,QAAIC,UAAUV,QAAd,C,CAAwB;;AAExB,QAAIW,SAAS,SAASA,MAAT,CAAgBC,MAAhB,EAAwBC,CAAxB,EAA2B;AACtC,aAAOD,UAAU,CAACA,MAAD,GAAUC,CAAV,GAAcA,EAAE,CAAF,EAAKC,WAAL,KAAqBD,EAAEE,MAAF,CAAS,CAAT,CAA7C,IAA4D,gBAAnE;AACD,KAFD;;AAIA,QAAInB,SAAJ,EAAe;AACbY,cAAQQ,IAAR,CAAa,UAAUJ,MAAV,EAAkB;AAC7B,YAAIK,YAAYN,OAAOC,MAAP,EAAe,SAAf,CAAhB;;AAEA,YAAIK,aAAaC,MAAjB,EAAyB;AACvBT,yBAAeE,OAAOC,MAAP,EAAe,QAAf,CAAf,CADuB,CACkB;;AAEzCF,oBAAU,SAASA,OAAT,CAAiBS,EAAjB,EAAqB;AAC7B,mBAAOD,OAAOD,SAAP,EAAkBE,EAAlB,CAAP;AACD,WAFD;AAGD;;AAED,eAAO,CAAC,CAACT,OAAT;AACD,OAZD;AAaD;;AAED,WAAO,IAAIU,SAAS,SAASA,MAAT,CAAgBC,EAAhB,EAAoB;AACtC;AACA,UAAI,OAAOH,OAAOT,YAAP,CAAP,KAAgC,UAApC,EAAgDS,OAAOT,YAAP,EAAqBY,EAArB;AACjD,KAHM;AAIP,WAAO,IAAIC,UAAUZ,OAAd","file":"animationFrame.js","sourcesContent":["import canUseDOM from './canUseDOM';\n\n/* https://github.com/component/raf */\nvar prev = new Date().getTime();\n\nfunction fallback(fn) {\n  var curr = new Date().getTime();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var handle = setTimeout(fn, ms);\n  prev = curr;\n  return handle;\n}\n\nvar vendors = ['', 'webkit', 'moz', 'o', 'ms'];\nvar cancelMethod = 'clearTimeout';\nvar rafImpl = fallback; // eslint-disable-next-line import/no-mutable-exports\n\nvar getKey = function getKey(vendor, k) {\n  return vendor + (!vendor ? k : k[0].toUpperCase() + k.substr(1)) + \"AnimationFrame\";\n};\n\nif (canUseDOM) {\n  vendors.some(function (vendor) {\n    var rafMethod = getKey(vendor, 'request');\n\n    if (rafMethod in window) {\n      cancelMethod = getKey(vendor, 'cancel'); // @ts-ignore\n\n      rafImpl = function rafImpl(cb) {\n        return window[rafMethod](cb);\n      };\n    }\n\n    return !!rafImpl;\n  });\n}\n\nexport var cancel = function cancel(id) {\n  // @ts-ignore\n  if (typeof window[cancelMethod] === 'function') window[cancelMethod](id);\n};\nexport var request = rafImpl;"]}