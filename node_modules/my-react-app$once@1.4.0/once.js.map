{"version":3,"sources":["once.js"],"names":["wrappy","require","module","exports","once","strict","onceStrict","proto","Object","defineProperty","Function","prototype","value","configurable","fn","f","called","apply","arguments","Error","onceError","name"],"mappings":";;;;AAAA,QAAIA,SAASC,QAAQ,qBAAR,CAAb;AACAC,WAAOC,OAAP,GAAiBH,OAAOI,IAAP,CAAjB;AACAF,WAAOC,OAAP,CAAeE,MAAf,GAAwBL,OAAOM,UAAP,CAAxB;;AAEAF,SAAKG,KAAL,GAAaH,KAAK,YAAY;AAC5BI,aAAOC,cAAP,CAAsBC,SAASC,SAA/B,EAA0C,MAA1C,EAAkD;AAChDC,eAAO,YAAY;AACjB,iBAAOR,KAAK,IAAL,CAAP;AACD,SAH+C;AAIhDS,sBAAc;AAJkC,OAAlD;;AAOAL,aAAOC,cAAP,CAAsBC,SAASC,SAA/B,EAA0C,YAA1C,EAAwD;AACtDC,eAAO,YAAY;AACjB,iBAAON,WAAW,IAAX,CAAP;AACD,SAHqD;AAItDO,sBAAc;AAJwC,OAAxD;AAMD,KAdY,CAAb;;AAgBA,aAAST,IAAT,CAAeU,EAAf,EAAmB;AACjB,UAAIC,IAAI,YAAY;AAClB,YAAIA,EAAEC,MAAN,EAAc,OAAOD,EAAEH,KAAT;AACdG,UAAEC,MAAF,GAAW,IAAX;AACA,eAAOD,EAAEH,KAAF,GAAUE,GAAGG,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAjB;AACD,OAJD;AAKAH,QAAEC,MAAF,GAAW,KAAX;AACA,aAAOD,CAAP;AACD;;AAED,aAAST,UAAT,CAAqBQ,EAArB,EAAyB;AACvB,UAAIC,IAAI,YAAY;AAClB,YAAIA,EAAEC,MAAN,EACE,MAAM,IAAIG,KAAJ,CAAUJ,EAAEK,SAAZ,CAAN;AACFL,UAAEC,MAAF,GAAW,IAAX;AACA,eAAOD,EAAEH,KAAF,GAAUE,GAAGG,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAjB;AACD,OALD;AAMA,UAAIG,OAAOP,GAAGO,IAAH,IAAW,8BAAtB;AACAN,QAAEK,SAAF,GAAcC,OAAO,qCAArB;AACAN,QAAEC,MAAF,GAAW,KAAX;AACA,aAAOD,CAAP;AACD","file":"once.js","sourcesContent":["var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n"]}