{"version":3,"sources":["dragOperation.js"],"names":["BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","END_DRAG","DROP","REMOVE_TARGET","without","initialState","itemType","item","sourceId","targetIds","dropResult","didDrop","isSourcePublic","reduce","state","action","payload","type","indexOf","targetId"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,iBAASA,UAAT,EAAqBC,mBAArB,EAA0CC,KAA1C,EAAiDC,QAAjD,EAA2DC,IAA3D,QAAwE,qBAAxE;AACA,iBAASC,aAAT,QAA8B,qBAA9B;AACA,iBAASC,OAAT,QAAwB,mBAAxB;AACA,cAAMC,eAAe;AACjBC,sBAAU,IADO;AAEjBC,kBAAM,IAFW;AAGjBC,sBAAU,IAHO;AAIjBC,uBAAW,EAJM;AAKjBC,wBAAY,IALK;AAMjBC,qBAAS,KANQ;AAOjBC,4BAAgB;AAPC,SAArB;AASA,eAAO,SAASC,MAAT,CAAgBC,QAAQT,YAAxB,EAAsCU,MAAtC,EAA8C;AACjD,kBAAM,EAAEC,OAAF,KAAcD,MAApB;AACA,oBAAQA,OAAOE,IAAf;AACI,qBAAKnB,UAAL;AACI,wCACOgB,KADP;AAEIR,kCAAUU,QAAQV,QAFtB;AAGIC,8BAAMS,QAAQT,IAHlB;AAIIC,kCAAUQ,QAAQR,QAJtB;AAKII,wCAAgBI,QAAQJ,cAL5B;AAMIF,oCAAY,IANhB;AAOIC,iCAAS;AAPb;AASJ,qBAAKZ,mBAAL;AACI,wCACOe,KADP;AAEIF,wCAAgB;AAFpB;AAIJ,qBAAKZ,KAAL;AACI,wCACOc,KADP;AAEIL,mCAAWO,QAAQP;AAFvB;AAIJ,qBAAKN,aAAL;AACI,wBAAIW,MAAML,SAAN,CAAgBS,OAAhB,CAAwBF,QAAQG,QAAhC,MAA8C,CAAC,CAAnD,EAAsD;AAClD,+BAAOL,KAAP;AACH;AACD,wCACOA,KADP;AAEIL,mCAAWL,QAAQU,MAAML,SAAd,EAAyBO,QAAQG,QAAjC;AAFf;AAIJ,qBAAKjB,IAAL;AACI,wCACOY,KADP;AAEIJ,oCAAYM,QAAQN,UAFxB;AAGIC,iCAAS,IAHb;AAIIF,mCAAW;AAJf;AAMJ,qBAAKR,QAAL;AACI,wCACOa,KADP;AAEIR,kCAAU,IAFd;AAGIC,8BAAM,IAHV;AAIIC,kCAAU,IAJd;AAKIE,oCAAY,IALhB;AAMIC,iCAAS,KANb;AAOIC,wCAAgB,IAPpB;AAQIH,mCAAW;AARf;AAUJ;AACI,2BAAOK,KAAP;AAhDR;AAkDH","file":"dragOperation.js","sourcesContent":["import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP, } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nconst initialState = {\n    itemType: null,\n    item: null,\n    sourceId: null,\n    targetIds: [],\n    dropResult: null,\n    didDrop: false,\n    isSourcePublic: null,\n};\nexport function reduce(state = initialState, action) {\n    const { payload } = action;\n    switch (action.type) {\n        case BEGIN_DRAG:\n            return {\n                ...state,\n                itemType: payload.itemType,\n                item: payload.item,\n                sourceId: payload.sourceId,\n                isSourcePublic: payload.isSourcePublic,\n                dropResult: null,\n                didDrop: false,\n            };\n        case PUBLISH_DRAG_SOURCE:\n            return {\n                ...state,\n                isSourcePublic: true,\n            };\n        case HOVER:\n            return {\n                ...state,\n                targetIds: payload.targetIds,\n            };\n        case REMOVE_TARGET:\n            if (state.targetIds.indexOf(payload.targetId) === -1) {\n                return state;\n            }\n            return {\n                ...state,\n                targetIds: without(state.targetIds, payload.targetId),\n            };\n        case DROP:\n            return {\n                ...state,\n                dropResult: payload.dropResult,\n                didDrop: true,\n                targetIds: [],\n            };\n        case END_DRAG:\n            return {\n                ...state,\n                itemType: null,\n                item: null,\n                sourceId: null,\n                dropResult: null,\n                didDrop: false,\n                isSourcePublic: null,\n                targetIds: [],\n            };\n        default:\n            return state;\n    }\n}\n"]}