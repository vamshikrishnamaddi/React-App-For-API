{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","reduce","_dragOffset","require","_dragOperation","_refCount","_dirtyHandlerIds","_stateId","_js_utils","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","configurable","writable","state","undefined","action","dirtyHandlerIds","type","payload","prevTargetIds","get","dragOffset","refCount","dragOperation","stateId"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reduce = reduce;\n\nvar _dragOffset = require(\"./dragOffset\");\n\nvar _dragOperation = require(\"./dragOperation\");\n\nvar _refCount = require(\"./refCount\");\n\nvar _dirtyHandlerIds = require(\"./dirtyHandlerIds\");\n\nvar _stateId = require(\"./stateId\");\n\nvar _js_utils = require(\"../utils/js_utils\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: (0, _dirtyHandlerIds.reduce)(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: (0, _js_utils.get)(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: (0, _dragOffset.reduce)(state.dragOffset, action),\n    refCount: (0, _refCount.reduce)(state.refCount, action),\n    dragOperation: (0, _dragOperation.reduce)(state.dragOperation, action),\n    stateId: (0, _stateId.reduce)(state.stateId)\n  };\n}"]}