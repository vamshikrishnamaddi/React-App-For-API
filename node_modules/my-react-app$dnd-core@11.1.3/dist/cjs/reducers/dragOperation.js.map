{"version":3,"sources":["dragOperation.js"],"names":["Object","defineProperty","exports","value","reduce","_dragDrop","require","_registry","_js_utils","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","configurable","writable","initialState","itemType","item","sourceId","targetIds","dropResult","didDrop","isSourcePublic","state","undefined","action","payload","type","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","REMOVE_TARGET","indexOf","targetId","without","DROP","END_DRAG"],"mappings":"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","file":"dragOperation.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reduce = reduce;\n\nvar _dragDrop = require(\"../actions/dragDrop\");\n\nvar _registry = require(\"../actions/registry\");\n\nvar _js_utils = require(\"../utils/js_utils\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\n\nfunction reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case _dragDrop.BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case _dragDrop.PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case _dragDrop.HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case _registry.REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: (0, _js_utils.without)(state.targetIds, payload.targetId)\n      });\n\n    case _dragDrop.DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case _dragDrop.END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}"]}