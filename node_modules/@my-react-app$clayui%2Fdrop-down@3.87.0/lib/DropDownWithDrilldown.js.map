{"version":3,"sources":["DropDownWithDrilldown.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","ClayDropDownWithDrilldown","_shared","require","_classnames","_interopRequireDefault","_react","_interopRequireWildcard","_DropDown","_drilldown","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","slice","name","test","len","arr2","_i","_arr","_n","_d","_s","_e","next","done","err","_ref","externalActive","active","alignmentByViewport","alignmentPosition","className","containerElement","_ref$defaultActive","defaultActive","defaultActiveMenu","initialActiveMenu","menuElementAttrs","menuHeight","menuWidth","menus","_ref$messages","messages","back","goTo","offsetFn","onActiveChange","renderMenuOnClick","spritemap","trigger","_useState","useState","_useState2","activeMenu","setActiveMenu","_useState3","_useState4","direction","setDirection","_useState5","_useState6","history","setHistory","_useInteractionFocus","useInteractionFocus","isFocusVisible","_useInternalState","useInternalState","defaultName","defaultValue","handleName","onChange","_useInternalState2","setActive","focusHistory","useRef","innerRef","menuIds","useEffect","current","_focusHistory$current","_focusHistory$current2","previous","focus","itemEl","querySelector","concat","document","activeElement","createElement","hasRightSymbols","Inner","ref","map","menuKey","Menu","header","title","undefined","items","onBack","_history$slice","_history$slice2","parent","id","onForward","childId","displayName"],"mappings":"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","file":"DropDownWithDrilldown.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClayDropDownWithDrilldown = void 0;\n\nvar _shared = require(\"@clayui/shared\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _DropDown = _interopRequireDefault(require(\"./DropDown\"));\n\nvar _drilldown = _interopRequireDefault(require(\"./drilldown\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar ClayDropDownWithDrilldown = function ClayDropDownWithDrilldown(_ref) {\n  var externalActive = _ref.active,\n      alignmentByViewport = _ref.alignmentByViewport,\n      alignmentPosition = _ref.alignmentPosition,\n      className = _ref.className,\n      containerElement = _ref.containerElement,\n      _ref$defaultActive = _ref.defaultActive,\n      defaultActive = _ref$defaultActive === void 0 ? false : _ref$defaultActive,\n      defaultActiveMenu = _ref.defaultActiveMenu,\n      initialActiveMenu = _ref.initialActiveMenu,\n      menuElementAttrs = _ref.menuElementAttrs,\n      menuHeight = _ref.menuHeight,\n      menuWidth = _ref.menuWidth,\n      menus = _ref.menus,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? {\n    back: '',\n    goTo: ''\n  } : _ref$messages,\n      offsetFn = _ref.offsetFn,\n      onActiveChange = _ref.onActiveChange,\n      renderMenuOnClick = _ref.renderMenuOnClick,\n      spritemap = _ref.spritemap,\n      trigger = _ref.trigger;\n\n  var _useState = (0, _react.useState)(defaultActiveMenu !== null && defaultActiveMenu !== void 0 ? defaultActiveMenu : initialActiveMenu),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeMenu = _useState2[0],\n      setActiveMenu = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      direction = _useState4[0],\n      setDirection = _useState4[1];\n\n  var _useState5 = (0, _react.useState)([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      history = _useState6[0],\n      setHistory = _useState6[1];\n\n  var _useInteractionFocus = (0, _shared.useInteractionFocus)(),\n      isFocusVisible = _useInteractionFocus.isFocusVisible;\n\n  var _useInternalState = (0, _shared.useInternalState)({\n    defaultName: 'defaultActive',\n    defaultValue: defaultActive,\n    handleName: 'onActiveChange',\n    name: 'active',\n    onChange: onActiveChange,\n    value: externalActive\n  }),\n      _useInternalState2 = _slicedToArray(_useInternalState, 2),\n      active = _useInternalState2[0],\n      setActive = _useInternalState2[1];\n\n  var focusHistory = (0, _react.useRef)([]);\n  var innerRef = (0, _react.useRef)(null);\n  var menuIds = Object.keys(menus);\n  (0, _react.useEffect)(function () {\n    if (!isFocusVisible()) {\n      return;\n    }\n\n    if (innerRef.current) {\n      if (direction === 'prev') {\n        var _focusHistory$current = focusHistory.current.slice(-1),\n            _focusHistory$current2 = _slicedToArray(_focusHistory$current, 1),\n            previous = _focusHistory$current2[0];\n\n        focusHistory.current = focusHistory.current.slice(0, focusHistory.current.length - 1);\n        previous === null || previous === void 0 ? void 0 : previous.focus();\n      } else {\n        var itemEl = innerRef.current.querySelector('.drilldown-current a.dropdown-item, .drilldown-current button.dropdown-item');\n        focusHistory.current = [].concat(_toConsumableArray(focusHistory.current), [document.activeElement]);\n        itemEl === null || itemEl === void 0 ? void 0 : itemEl.focus();\n      }\n    }\n  }, [activeMenu, direction, innerRef, focusHistory, menus]);\n  return /*#__PURE__*/_react.default.createElement(_DropDown.default, {\n    active: active,\n    alignmentByViewport: alignmentByViewport,\n    alignmentPosition: alignmentPosition,\n    className: className,\n    containerElement: containerElement,\n    hasRightSymbols: true,\n    menuElementAttrs: _objectSpread(_objectSpread({}, menuElementAttrs), {}, {\n      className: (0, _classnames.default)(menuElementAttrs === null || menuElementAttrs === void 0 ? void 0 : menuElementAttrs.className, 'drilldown')\n    }),\n    menuHeight: menuHeight,\n    menuWidth: menuWidth,\n    offsetFn: offsetFn,\n    onActiveChange: function onActiveChange(value) {\n      if (!active) {\n        setActiveMenu(defaultActiveMenu);\n        focusHistory.current = [];\n        setHistory([]);\n        setDirection('prev');\n      }\n\n      setActive(value);\n    },\n    renderMenuOnClick: renderMenuOnClick,\n    trigger: trigger\n  }, /*#__PURE__*/_react.default.createElement(_drilldown.default.Inner, {\n    ref: innerRef\n  }, menuIds.map(function (menuKey) {\n    return /*#__PURE__*/_react.default.createElement(_drilldown.default.Menu, {\n      active: activeMenu === menuKey,\n      direction: direction,\n      header: activeMenu === menuKey && !!history.length ? history.slice(-1)[0].title : undefined,\n      items: menus[menuKey],\n      key: menuKey,\n      messages: messages,\n      onBack: function onBack() {\n        var _history$slice = history.slice(-1),\n            _history$slice2 = _slicedToArray(_history$slice, 1),\n            parent = _history$slice2[0];\n\n        setHistory(history.slice(0, history.length - 1));\n        setDirection('prev');\n        setActiveMenu(parent.id);\n      },\n      onForward: function onForward(title, childId) {\n        setHistory([].concat(_toConsumableArray(history), [{\n          id: activeMenu,\n          title: title\n        }]));\n        setDirection('next');\n        setActiveMenu(childId);\n      },\n      spritemap: spritemap\n    });\n  })));\n};\n\nexports.ClayDropDownWithDrilldown = ClayDropDownWithDrilldown;\nClayDropDownWithDrilldown.displayName = 'ClayDropDownWithDrilldown';"]}