{"version":3,"sources":["output-json.js"],"names":["path","require","mkdir","pathExists","jsonFile","outputJson","file","data","options","callback","dir","dirname","err","itDoes","writeJson","mkdirs","module","exports"],"mappings":"AAAA;;;;;;AAEA,UAAMA,OAAOC,QAAQ,mBAAR,CAAb;AACA,UAAMC,QAAQD,QAAQ,WAAR,CAAd;AACA,UAAME,aAAaF,QAAQ,gBAAR,EAA0BE,UAA7C;AACA,UAAMC,WAAWH,QAAQ,YAAR,CAAjB;;AAEA,aAASI,UAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,OAAjC,EAA0CC,QAA1C,EAAoD;AAClD,UAAI,OAAOD,OAAP,KAAmB,UAAvB,EAAmC;AACjCC,mBAAWD,OAAX;AACAA,kBAAU,EAAV;AACD;;AAED,YAAME,MAAMV,KAAKW,OAAL,CAAaL,IAAb,CAAZ;;AAEAH,iBAAWO,GAAX,EAAgB,CAACE,GAAD,EAAMC,MAAN,KAAiB;AAC/B,YAAID,GAAJ,EAAS,OAAOH,SAASG,GAAT,CAAP;AACT,YAAIC,MAAJ,EAAY,OAAOT,SAASU,SAAT,CAAmBR,IAAnB,EAAyBC,IAAzB,EAA+BC,OAA/B,EAAwCC,QAAxC,CAAP;;AAEZP,cAAMa,MAAN,CAAaL,GAAb,EAAkBE,OAAO;AACvB,cAAIA,GAAJ,EAAS,OAAOH,SAASG,GAAT,CAAP;AACTR,mBAASU,SAAT,CAAmBR,IAAnB,EAAyBC,IAAzB,EAA+BC,OAA/B,EAAwCC,QAAxC;AACD,SAHD;AAID,OARD;AASD;;AAEDO,WAAOC,OAAP,GAAiBZ,UAAjB","file":"output-json.js","sourcesContent":["'use strict'\n\nconst path = require('path')\nconst mkdir = require('../mkdirs')\nconst pathExists = require('../path-exists').pathExists\nconst jsonFile = require('./jsonfile')\n\nfunction outputJson (file, data, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n\n  const dir = path.dirname(file)\n\n  pathExists(dir, (err, itDoes) => {\n    if (err) return callback(err)\n    if (itDoes) return jsonFile.writeJson(file, data, options, callback)\n\n    mkdir.mkdirs(dir, err => {\n      if (err) return callback(err)\n      jsonFile.writeJson(file, data, options, callback)\n    })\n  })\n}\n\nmodule.exports = outputJson\n"]}