{"version":3,"sources":["symlink-type.js"],"names":["fs","require","symlinkType","srcpath","type","callback","lstat","err","stats","isDirectory","symlinkTypeSync","lstatSync","e","module","exports"],"mappings":"AAAA;;;;;;AAEA,UAAMA,KAAKC,QAAQ,0BAAR,CAAX;;AAEA,aAASC,WAAT,CAAsBC,OAAtB,EAA+BC,IAA/B,EAAqCC,QAArC,EAA+C;AAC7CA,iBAAY,OAAOD,IAAP,KAAgB,UAAjB,GAA+BA,IAA/B,GAAsCC,QAAjD;AACAD,aAAQ,OAAOA,IAAP,KAAgB,UAAjB,GAA+B,KAA/B,GAAuCA,IAA9C;AACA,UAAIA,IAAJ,EAAU,OAAOC,SAAS,IAAT,EAAeD,IAAf,CAAP;AACVJ,SAAGM,KAAH,CAASH,OAAT,EAAkB,CAACI,GAAD,EAAMC,KAAN,KAAgB;AAChC,YAAID,GAAJ,EAAS,OAAOF,SAAS,IAAT,EAAe,MAAf,CAAP;AACTD,eAAQI,SAASA,MAAMC,WAAN,EAAV,GAAiC,KAAjC,GAAyC,MAAhD;AACAJ,iBAAS,IAAT,EAAeD,IAAf;AACD,OAJD;AAKD;;AAED,aAASM,eAAT,CAA0BP,OAA1B,EAAmCC,IAAnC,EAAyC;AACvC,UAAII,KAAJ;;AAEA,UAAIJ,IAAJ,EAAU,OAAOA,IAAP;AACV,UAAI;AACFI,gBAAQR,GAAGW,SAAH,CAAaR,OAAb,CAAR;AACD,OAFD,CAEE,OAAOS,CAAP,EAAU;AACV,eAAO,MAAP;AACD;AACD,aAAQJ,SAASA,MAAMC,WAAN,EAAV,GAAiC,KAAjC,GAAyC,MAAhD;AACD;;AAEDI,WAAOC,OAAP,GAAiB;AACfZ,iBADe;AAEfQ;AAFe,KAAjB","file":"symlink-type.js","sourcesContent":["'use strict'\n\nconst fs = require('graceful-fs')\n\nfunction symlinkType (srcpath, type, callback) {\n  callback = (typeof type === 'function') ? type : callback\n  type = (typeof type === 'function') ? false : type\n  if (type) return callback(null, type)\n  fs.lstat(srcpath, (err, stats) => {\n    if (err) return callback(null, 'file')\n    type = (stats && stats.isDirectory()) ? 'dir' : 'file'\n    callback(null, type)\n  })\n}\n\nfunction symlinkTypeSync (srcpath, type) {\n  let stats\n\n  if (type) return type\n  try {\n    stats = fs.lstatSync(srcpath)\n  } catch (e) {\n    return 'file'\n  }\n  return (stats && stats.isDirectory()) ? 'dir' : 'file'\n}\n\nmodule.exports = {\n  symlinkType,\n  symlinkTypeSync\n}\n"]}