{"version":3,"sources":["asyncIterator.js"],"names":["_asyncIterator","iterable","method","async","sync","retry","Symbol","asyncIterator","iterator","call","AsyncFromSyncIterator","TypeError","s","AsyncFromSyncIteratorContinuation","r","Object","Promise","reject","done","resolve","value","then","n","next","prototype","apply","arguments","_return","ret","_throw","thr"],"mappings":";;;;AAAA,mBAAe,SAASA,cAAT,CAAwBC,QAAxB,EAAkC;AAC/C,UAAIC,MAAJ;AAAA,UACEC,KADF;AAAA,UAEEC,IAFF;AAAA,UAGEC,QAAQ,CAHV;AAIA,WAAK,eAAe,OAAOC,MAAtB,KAAiCH,QAAQG,OAAOC,aAAf,EAA8BH,OAAOE,OAAOE,QAA7E,CAAL,EAA6FH,OAA7F,GAAuG;AACrG,YAAIF,SAAS,SAASD,SAASD,SAASE,KAAT,CAAlB,CAAb,EAAiD,OAAOD,OAAOO,IAAP,CAAYR,QAAZ,CAAP;AACjD,YAAIG,QAAQ,SAASF,SAASD,SAASG,IAAT,CAAlB,CAAZ,EAA+C,OAAO,IAAIM,qBAAJ,CAA0BR,OAAOO,IAAP,CAAYR,QAAZ,CAA1B,CAAP;AAC/CE,gBAAQ,iBAAR,EAA2BC,OAAO,YAAlC;AACD;AACD,YAAM,IAAIO,SAAJ,CAAc,8BAAd,CAAN;AACD;AACD,aAASD,qBAAT,CAA+BE,CAA/B,EAAkC;AAChC,eAASC,iCAAT,CAA2CC,CAA3C,EAA8C;AAC5C,YAAIC,OAAOD,CAAP,MAAcA,CAAlB,EAAqB,OAAOE,QAAQC,MAAR,CAAe,IAAIN,SAAJ,CAAcG,IAAI,oBAAlB,CAAf,CAAP;AACrB,YAAII,OAAOJ,EAAEI,IAAb;AACA,eAAOF,QAAQG,OAAR,CAAgBL,EAAEM,KAAlB,EAAyBC,IAAzB,CAA8B,UAAUD,KAAV,EAAiB;AACpD,iBAAO;AACLA,mBAAOA,KADF;AAELF,kBAAMA;AAFD,WAAP;AAID,SALM,CAAP;AAMD;AACD,aAAOR,wBAAwB,SAASA,qBAAT,CAA+BE,CAA/B,EAAkC;AAC/D,aAAKA,CAAL,GAASA,CAAT,EAAY,KAAKU,CAAL,GAASV,EAAEW,IAAvB;AACD,OAFM,EAEJb,sBAAsBc,SAAtB,GAAkC;AACnCZ,WAAG,IADgC;AAEnCU,WAAG,IAFgC;AAGnCC,cAAM,SAASA,IAAT,GAAgB;AACpB,iBAAOV,kCAAkC,KAAKS,CAAL,CAAOG,KAAP,CAAa,KAAKb,CAAlB,EAAqBc,SAArB,CAAlC,CAAP;AACD,SALkC;AAMnC,kBAAU,SAASC,OAAT,CAAiBP,KAAjB,EAAwB;AAChC,cAAIQ,MAAM,KAAKhB,CAAL,CAAO,QAAP,CAAV;AACA,iBAAO,KAAK,CAAL,KAAWgB,GAAX,GAAiBZ,QAAQG,OAAR,CAAgB;AACtCC,mBAAOA,KAD+B;AAEtCF,kBAAM,CAAC;AAF+B,WAAhB,CAAjB,GAGFL,kCAAkCe,IAAIH,KAAJ,CAAU,KAAKb,CAAf,EAAkBc,SAAlB,CAAlC,CAHL;AAID,SAZkC;AAanC,iBAAS,SAASG,MAAT,CAAgBT,KAAhB,EAAuB;AAC9B,cAAIU,MAAM,KAAKlB,CAAL,CAAO,QAAP,CAAV;AACA,iBAAO,KAAK,CAAL,KAAWkB,GAAX,GAAiBd,QAAQC,MAAR,CAAeG,KAAf,CAAjB,GAAyCP,kCAAkCiB,IAAIL,KAAJ,CAAU,KAAKb,CAAf,EAAkBc,SAAlB,CAAlC,CAAhD;AACD;AAhBkC,OAF9B,EAmBJ,IAAIhB,qBAAJ,CAA0BE,CAA1B,CAnBH;AAoBD","file":"asyncIterator.js","sourcesContent":["export default function _asyncIterator(iterable) {\n  var method,\n    async,\n    sync,\n    retry = 2;\n  for (\"undefined\" != typeof Symbol && (async = Symbol.asyncIterator, sync = Symbol.iterator); retry--;) {\n    if (async && null != (method = iterable[async])) return method.call(iterable);\n    if (sync && null != (method = iterable[sync])) return new AsyncFromSyncIterator(method.call(iterable));\n    async = \"@@asyncIterator\", sync = \"@@iterator\";\n  }\n  throw new TypeError(\"Object is not async iterable\");\n}\nfunction AsyncFromSyncIterator(s) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var done = r.done;\n    return Promise.resolve(r.value).then(function (value) {\n      return {\n        value: value,\n        done: done\n      };\n    });\n  }\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(s) {\n    this.s = s, this.n = s.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(value) {\n      var ret = this.s[\"return\"];\n      return void 0 === ret ? Promise.resolve({\n        value: value,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(ret.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(value) {\n      var thr = this.s[\"return\"];\n      return void 0 === thr ? Promise.reject(value) : AsyncFromSyncIteratorContinuation(thr.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(s);\n}"]}