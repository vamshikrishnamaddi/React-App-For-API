{"version":3,"sources":["EnterLeaveCounter.js"],"names":["union","without","EnterLeaveCounter","constructor","isNodeInDocument","entered","enter","enteringNode","previousLength","length","filter","node","contains","leave","leavingNode","reset"],"mappings":";;;;AAAA,iBAASA,KAAT,EAAgBC,OAAhB,QAA+B,kBAA/B;AACA,eAAO,MAAMC,iBAAN,CAAwB;AAC3BC,wBAAYC,gBAAZ,EAA8B;AAC1B,qBAAKC,OAAL,GAAe,EAAf;AACA,qBAAKD,gBAAL,GAAwBA,gBAAxB;AACH;AACDE,kBAAMC,YAAN,EAAoB;AAChB,sBAAMC,iBAAiB,KAAKH,OAAL,CAAaI,MAApC;;AAGA,qBAAKJ,OAAL,GAAeL,MAAM,KAAKK,OAAL,CAAaK,MAAb,CAFEC,IAAD,IAAU,KAAKP,gBAAL,CAAsBO,IAAtB,MAC3B,CAACA,KAAKC,QAAN,IAAkBD,KAAKC,QAAL,CAAcL,YAAd,CADS,CAEX,CAAN,EAA0C,CAACA,YAAD,CAA1C,CAAf;AACA,uBAAOC,mBAAmB,CAAnB,IAAwB,KAAKH,OAAL,CAAaI,MAAb,GAAsB,CAArD;AACH;AACDI,kBAAMC,WAAN,EAAmB;AACf,sBAAMN,iBAAiB,KAAKH,OAAL,CAAaI,MAApC;AACA,qBAAKJ,OAAL,GAAeJ,QAAQ,KAAKI,OAAL,CAAaK,MAAb,CAAoB,KAAKN,gBAAzB,CAAR,EAAoDU,WAApD,CAAf;AACA,uBAAON,iBAAiB,CAAjB,IAAsB,KAAKH,OAAL,CAAaI,MAAb,KAAwB,CAArD;AACH;AACDM,oBAAQ;AACJ,qBAAKV,OAAL,GAAe,EAAf;AACH;AAnB0B","file":"EnterLeaveCounter.js","sourcesContent":["import { union, without } from './utils/js_utils';\nexport class EnterLeaveCounter {\n    constructor(isNodeInDocument) {\n        this.entered = [];\n        this.isNodeInDocument = isNodeInDocument;\n    }\n    enter(enteringNode) {\n        const previousLength = this.entered.length;\n        const isNodeEntered = (node) => this.isNodeInDocument(node) &&\n            (!node.contains || node.contains(enteringNode));\n        this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n        return previousLength === 0 && this.entered.length > 0;\n    }\n    leave(leavingNode) {\n        const previousLength = this.entered.length;\n        this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n        return previousLength > 0 && this.entered.length === 0;\n    }\n    reset() {\n        this.entered = [];\n    }\n}\n"]}