{"version":3,"sources":["semver.js"],"names":["argv","process","slice","versions","range","inc","version","require","loose","includePrerelease","coerce","rtl","identifier","semver","reverse","options","main","length","help","a","shift","indexOfEqualSign","indexOf","unshift","push","map","v","filter","valid","fail","failInc","i","l","satisfies","success","console","error","exit","compare","sort","b","clean","forEach","_","log","join"],"mappings":"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","file":"semver.js","sourcesContent":["\n// Standalone semver comparison program.\n// Exits successfully and prints matching version(s) if\n// any supplied version is valid and passes all tests.\n\nvar argv = process.argv.slice(2)\n\nvar versions = []\n\nvar range = []\n\nvar inc = null\n\nvar version = require('../package.json').version\n\nvar loose = false\n\nvar includePrerelease = false\n\nvar coerce = false\n\nvar rtl = false\n\nvar identifier\n\nvar semver = require('../semver')\n\nvar reverse = false\n\nvar options = {}\n\nmain()\n\nfunction main () {\n  if (!argv.length) return help()\n  while (argv.length) {\n    var a = argv.shift()\n    var indexOfEqualSign = a.indexOf('=')\n    if (indexOfEqualSign !== -1) {\n      a = a.slice(0, indexOfEqualSign)\n      argv.unshift(a.slice(indexOfEqualSign + 1))\n    }\n    switch (a) {\n      case '-rv': case '-rev': case '--rev': case '--reverse':\n        reverse = true\n        break\n      case '-l': case '--loose':\n        loose = true\n        break\n      case '-p': case '--include-prerelease':\n        includePrerelease = true\n        break\n      case '-v': case '--version':\n        versions.push(argv.shift())\n        break\n      case '-i': case '--inc': case '--increment':\n        switch (argv[0]) {\n          case 'major': case 'minor': case 'patch': case 'prerelease':\n          case 'premajor': case 'preminor': case 'prepatch':\n            inc = argv.shift()\n            break\n          default:\n            inc = 'patch'\n            break\n        }\n        break\n      case '--preid':\n        identifier = argv.shift()\n        break\n      case '-r': case '--range':\n        range.push(argv.shift())\n        break\n      case '-c': case '--coerce':\n        coerce = true\n        break\n      case '--rtl':\n        rtl = true\n        break\n      case '--ltr':\n        rtl = false\n        break\n      case '-h': case '--help': case '-?':\n        return help()\n      default:\n        versions.push(a)\n        break\n    }\n  }\n\n  var options = { loose: loose, includePrerelease: includePrerelease, rtl: rtl }\n\n  versions = versions.map(function (v) {\n    return coerce ? (semver.coerce(v, options) || { version: v }).version : v\n  }).filter(function (v) {\n    return semver.valid(v)\n  })\n  if (!versions.length) return fail()\n  if (inc && (versions.length !== 1 || range.length)) { return failInc() }\n\n  for (var i = 0, l = range.length; i < l; i++) {\n    versions = versions.filter(function (v) {\n      return semver.satisfies(v, range[i], options)\n    })\n    if (!versions.length) return fail()\n  }\n  return success(versions)\n}\n\nfunction failInc () {\n  console.error('--inc can only be used on a single version with no range')\n  fail()\n}\n\nfunction fail () { process.exit(1) }\n\nfunction success () {\n  var compare = reverse ? 'rcompare' : 'compare'\n  versions.sort(function (a, b) {\n    return semver[compare](a, b, options)\n  }).map(function (v) {\n    return semver.clean(v, options)\n  }).map(function (v) {\n    return inc ? semver.inc(v, inc, options, identifier) : v\n  }).forEach(function (v, i, _) { console.log(v) })\n}\n\nfunction help () {\n  console.log(['SemVer ' + version,\n    '',\n    'A JavaScript implementation of the https://semver.org/ specification',\n    'Copyright Isaac Z. Schlueter',\n    '',\n    'Usage: semver [options] <version> [<version> [...]]',\n    'Prints valid versions sorted by SemVer precedence',\n    '',\n    'Options:',\n    '-r --range <range>',\n    '        Print versions that match the specified range.',\n    '',\n    '-i --increment [<level>]',\n    '        Increment a version by the specified level.  Level can',\n    '        be one of: major, minor, patch, premajor, preminor,',\n    \"        prepatch, or prerelease.  Default level is 'patch'.\",\n    '        Only one version may be specified.',\n    '',\n    '--preid <identifier>',\n    '        Identifier to be used to prefix premajor, preminor,',\n    '        prepatch or prerelease version increments.',\n    '',\n    '-l --loose',\n    '        Interpret versions and ranges loosely',\n    '',\n    '-p --include-prerelease',\n    '        Always include prerelease versions in range matching',\n    '',\n    '-c --coerce',\n    '        Coerce a string into SemVer if possible',\n    '        (does not imply --loose)',\n    '',\n    '--rtl',\n    '        Coerce version strings right to left',\n    '',\n    '--ltr',\n    '        Coerce version strings left to right (default)',\n    '',\n    'Program exits successfully if any valid version satisfies',\n    'all supplied ranges, and prints all satisfying versions.',\n    '',\n    'If no satisfying versions are found, then exits failure.',\n    '',\n    'Versions are printed in ascending order, so supplying',\n    'multiple versions to the utility will just sort them.'\n  ].join('\\n'))\n}\n"]}